# Admin ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„± ê·œì¹™ ë° êµ¬ì¡°

## ğŸ“Œ ê°œìš”

@jiny/admin íŒ¨í‚¤ì§€ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” Laravelì˜ Single Action Controller íŒ¨í„´ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, JSON ì„¤ì •ê³¼ Hook ì‹œìŠ¤í…œì„ í†µí•´ ìœ ì—°í•œ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ¯ í•µì‹¬ ì„¤ê³„ ì›ì¹™

### 1. Single Action Controller
ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” `__invoke()` ë©”ì†Œë“œë§Œì„ ê°€ì§€ëŠ” Single Action Controllerë¡œ êµ¬í˜„ë©ë‹ˆë‹¤.

```php
class AdminUsers extends Controller
{
    public function __invoke(Request $request)
    {
        // ë‹¨ì¼ ì±…ì„ì„ ê°€ì§„ ì»¨íŠ¸ë¡¤ëŸ¬
        return view($this->jsonData['template']['index'], [
            'jsonData' => $this->jsonData
        ]);
    }
}
```

**ì¥ì :**
- ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP) ì¤€ìˆ˜
- ë¼ìš°íŠ¸ ì •ì˜ê°€ ëª…í™•
- í…ŒìŠ¤íŠ¸ê°€ ìš©ì´
- ì»¨íŠ¸ë¡¤ëŸ¬ ë¶„ë¦¬ë¡œ ìœ ì§€ë³´ìˆ˜ í–¥ìƒ

### 2. JSON ì„¤ì • ë¶„ë¦¬
ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ë™ì‘ ì„¤ì •ì„ í•˜ë“œì½”ë”©í•˜ì§€ ì•Šê³  ë³„ë„ì˜ JSON íŒŒì¼ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤.

```json
// AdminUsers.json
{
    "model": "User",
    "route": {
        "name": "admin.users",
        "prefix": "admin/users"
    },
    "template": {
        "index": "template.index",
        "create": "template.create",
        "edit": "template.edit"
    },
    "index": {
        "table": {
            "columns": {
                "id": { "label": "ID", "sortable": true },
                "email": { "label": "ì´ë©”ì¼", "sortable": true },
                "name": { "label": "ì´ë¦„", "sortable": true }
            }
        },
        "pagination": {
            "perPage": 10,
            "perPageOptions": [10, 25, 50, 100]
        }
    }
}
```

**ì¥ì :**
- ì½”ë“œ ìˆ˜ì • ì—†ì´ ë™ì‘ ë³€ê²½ ê°€ëŠ¥
- ì„¤ì • ì¬ì‚¬ìš© ê°€ëŠ¥
- ë²„ì „ ê´€ë¦¬ ìš©ì´

### 3. Template and Include
ê´€ë¦¬ì í˜ì´ì§€ëŠ” ëŒ€ë¶€ë¶„ ìœ ì‚¬í•œ êµ¬ì¡°ë¥¼ ê°€ì§€ë¯€ë¡œ í…œí”Œë¦¿ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```blade
{{-- template/index.blade.php --}}
<x-admin-layout>
    {{-- ê³µí†µ í—¤ë” --}}
    @livewire('admin-header-with-settings')
    
    {{-- í˜ì´ì§€ë³„ ì»¨í…ì¸  --}}
    @include($jsonData['view']['index'] ?? 'admin.admin_users.table')
    
    {{-- ê³µí†µ í‘¸í„° --}}
    @livewire('admin-footer')
</x-admin-layout>
```

## ğŸ”§ Livewire3 ì»´í¬ë„ŒíŠ¸ í†µí•©

ê³µí†µëœ ê¸°ëŠ¥ì„ Livewire3 ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬í•˜ì—¬ ì¬ì‚¬ìš©ì„±ì„ ë†’ì…ë‹ˆë‹¤.

### ì£¼ìš” Livewire ì»´í¬ë„ŒíŠ¸

```php
// AdminTable.php - í…Œì´ë¸” í‘œì‹œ ì»´í¬ë„ŒíŠ¸
class AdminTable extends Component
{
    public function render()
    {
        $rows = $this->getRows();
        
        // ì»¨íŠ¸ë¡¤ëŸ¬ Hook í˜¸ì¶œ
        if ($this->controller && method_exists($this->controller, 'hookIndexed')) {
            $rows = $this->controller->hookIndexed($this, $rows);
        }
        
        return view('livewire.admin-table', ['rows' => $rows]);
    }
}
```

### ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°
- `AdminTable`: ë°ì´í„° í…Œì´ë¸” í‘œì‹œ ë° ê´€ë¦¬
- `AdminCreate`: ìƒì„± í¼ ì²˜ë¦¬
- `AdminEdit`: ìˆ˜ì • í¼ ì²˜ë¦¬
- `AdminDelete`: ì‚­ì œ í™•ì¸ ë° ì²˜ë¦¬
- `AdminShow`: ìƒì„¸ ì •ë³´ í‘œì‹œ
- `AdminSearch`: ê²€ìƒ‰ ì¸í„°í˜ì´ìŠ¤

## ğŸª Hook ì‹œìŠ¤í…œ í†µí•©

3ê°€ì§€ ì¢…ë¥˜ì˜ Hook ì‹œìŠ¤í…œì„ í†µí•´ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ Livewire ì»´í¬ë„ŒíŠ¸ì˜ ë™ì‘ì„ ì œì–´í•©ë‹ˆë‹¤.

### 1. CRUD ë¼ì´í”„ì‚¬ì´í´ Hook

ë°ì´í„° ì²˜ë¦¬ì˜ ê° ë‹¨ê³„ì—ì„œ í˜¸ì¶œë˜ëŠ” Hookì…ë‹ˆë‹¤.

```php
class AdminUsersCreate extends Controller
{
    /**
     * ìƒì„± í¼ ì´ˆê¸°í™” ì‹œ í˜¸ì¶œ
     */
    public function hookCreating($wire, $value)
    {
        // ì‚¬ìš©ì íƒ€ì… ëª©ë¡ ì¡°íšŒ
        $userTypes = DB::table('admin_user_types')->get();
        $wire->userTypes = $userTypes;
        
        return array_merge(['isAdmin' => false], $value);
    }
    
    /**
     * ë°ì´í„° ì €ì¥ ì „ í˜¸ì¶œ
     */
    public function hookStoring($wire, $form)
    {
        // íŒ¨ìŠ¤ì›Œë“œ ê²€ì¦
        if (!$this->validatePassword($form['password'])) {
            return "íŒ¨ìŠ¤ì›Œë“œ ê²€ì¦ ì‹¤íŒ¨"; // ë¬¸ìì—´ ë°˜í™˜ ì‹œ ì—ëŸ¬
        }
        
        // íŒ¨ìŠ¤ì›Œë“œ ì•”í˜¸í™”
        $form['password'] = Hash::make($form['password']);
        return $form; // ë°°ì—´ ë°˜í™˜ ì‹œ ì •ìƒ ì§„í–‰
    }
    
    /**
     * ë°ì´í„° ì €ì¥ í›„ í˜¸ì¶œ
     */
    public function hookStored($wire, $form)
    {
        // ì‚¬ìš©ì íƒ€ì… ì¹´ìš´í„° ì¦ê°€
        DB::table('admin_user_types')
            ->where('code', $form['utype'])
            ->increment('user_count');
            
        return $form;
    }
}
```

#### ë¼ì´í”„ì‚¬ì´í´ Hook ëª©ë¡

| Hook ë©”ì†Œë“œ | í˜¸ì¶œ ì‹œì  | ìš©ë„ |
|------------|---------|------|
| `hookIndexing()` | ëª©ë¡ ì¡°íšŒ ì „ | ì¿¼ë¦¬ ì¡°ê±´ ìˆ˜ì • |
| `hookIndexed()` | ëª©ë¡ ì¡°íšŒ í›„ | ë°ì´í„° ê°€ê³µ |
| `hookCreating()` | ìƒì„± í¼ í‘œì‹œ | ê¸°ë³¸ê°’ ì„¤ì • |
| `hookStoring()` | ìƒì„± ë°ì´í„° ì €ì¥ ì „ | ë°ì´í„° ê²€ì¦/ë³€í™˜ |
| `hookStored()` | ìƒì„± ë°ì´í„° ì €ì¥ í›„ | í›„ì²˜ë¦¬ ì‘ì—… |
| `hookEditing()` | ìˆ˜ì • í¼ í‘œì‹œ | ë°ì´í„° ì¤€ë¹„ |
| `hookUpdating()` | ìˆ˜ì • ë°ì´í„° ì €ì¥ ì „ | ë°ì´í„° ê²€ì¦/ë³€í™˜ |
| `hookUpdated()` | ìˆ˜ì • ë°ì´í„° ì €ì¥ í›„ | í›„ì²˜ë¦¬ ì‘ì—… |
| `hookDeleting()` | ì‚­ì œ ì „ | ì‚­ì œ ê°€ëŠ¥ ì—¬ë¶€ ì²´í¬ |
| `hookDeleted()` | ì‚­ì œ í›„ | ê´€ë ¨ ë°ì´í„° ì •ë¦¬ |

### 2. Form Update Hook

í¼ í•„ë“œê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³€ê²½ë  ë•Œ í˜¸ì¶œë˜ëŠ” Hookì…ë‹ˆë‹¤.

```php
class AdminUsersCreate extends Controller
{
    /**
     * ì´ë©”ì¼ í•„ë“œ ë³€ê²½ ì‹œ í˜¸ì¶œ
     */
    public function hookFormEmail($wire, $value, $fieldName = 'email')
    {
        // ì´ë©”ì¼ í˜•ì‹ ê²€ì¦
        if (!filter_var($value, FILTER_VALIDATE_EMAIL)) {
            $wire->addError('form.email', 'ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.');
            return;
        }
        
        // ì¤‘ë³µ ì²´í¬
        $exists = DB::table('users')->where('email', $value)->exists();
        if ($exists) {
            $wire->addError('form.email', 'ì´ë¯¸ ë“±ë¡ëœ ì´ë©”ì¼ì…ë‹ˆë‹¤.');
        } else {
            $wire->resetErrorBag('form.email');
        }
    }
    
    /**
     * íŒ¨ìŠ¤ì›Œë“œ í•„ë“œ ë³€ê²½ ì‹œ í˜¸ì¶œ
     */
    public function hookFormPassword($wire, $value, $fieldName = 'password')
    {
        $validator = new PasswordValidator();
        
        if (!$validator->validate($value)) {
            $errors = $validator->getErrors();
            $wire->addError('form.password', $errors[0]);
        } else {
            $wire->resetErrorBag('form.password');
        }
    }
}
```

#### Form Hook íŒ¨í„´
- ë©”ì†Œë“œëª…: `hookForm{FieldName}()`
- ì‹¤ì‹œê°„ ê²€ì¦ì— ì‚¬ìš©
- ì—ëŸ¬ ë©”ì‹œì§€ ì¦‰ì‹œ í‘œì‹œ
- ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ

### 3. Custom Hook

íŠ¹ì • ê¸°ëŠ¥ì„ ìœ„í•œ ì»¤ìŠ¤í…€ Hookì…ë‹ˆë‹¤.

```php
class AdminUsersShow extends Controller
{
    /**
     * ë¹„ë°€ë²ˆí˜¸ ê°•ì œ ë³€ê²½ Hook
     */
    public function hookForcePasswordChange($wire, $userId)
    {
        try {
            $user = User::findOrFail($userId);
            $user->password_change_required = true;
            $user->save();
            
            return ['success' => true, 'message' => 'ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ìš”ì²­ ì™„ë£Œ'];
        } catch (\Exception $e) {
            return ['success' => false, 'message' => $e->getMessage()];
        }
    }
    
    /**
     * ê³„ì • í™œì„±í™”/ë¹„í™œì„±í™” Hook
     */
    public function hookToggleAccount($wire, $userId, $status)
    {
        $user = User::find($userId);
        $user->is_active = $status;
        $user->save();
        
        // ë¡œê·¸ ê¸°ë¡
        AdminUserLog::log($status ? 'account_enabled' : 'account_disabled', $user);
        
        return ['success' => true];
    }
}
```

## ğŸ“Š ë©”ì†Œë“œ í˜¸ì¶œ ë‹¤ì´ì–´ê·¸ë¨

### ëª©ë¡ í˜ì´ì§€ (Index) í˜¸ì¶œ íë¦„

```mermaid
sequenceDiagram
    participant User
    participant Router
    participant Controller
    participant Livewire
    participant Hook
    participant Database
    
    User->>Router: GET /admin/users
    Router->>Controller: __invoke()
    Controller->>Controller: loadJsonConfig()
    Controller->>Livewire: @livewire('admin-table')
    
    Livewire->>Hook: hookIndexing()
    Hook->>Hook: ì¿¼ë¦¬ ì¡°ê±´ ìˆ˜ì •
    
    Livewire->>Database: ë°ì´í„° ì¡°íšŒ
    Database-->>Livewire: ê²°ê³¼ ë°˜í™˜
    
    Livewire->>Hook: hookIndexed($rows)
    Hook->>Hook: ë°ì´í„° ê°€ê³µ
    Hook-->>Livewire: ê°€ê³µëœ ë°ì´í„°
    
    Livewire-->>User: í…Œì´ë¸” ë Œë”ë§
```

### ìƒì„± í˜ì´ì§€ (Create) í˜¸ì¶œ íë¦„

```mermaid
sequenceDiagram
    participant User
    participant Controller
    participant Livewire
    participant Hook
    participant Database
    
    User->>Controller: GET /admin/users/create
    Controller->>Livewire: @livewire('admin-create')
    
    Livewire->>Hook: hookCreating()
    Hook-->>Livewire: ê¸°ë³¸ê°’ ì„¤ì •
    
    User->>Livewire: í¼ ì…ë ¥
    Livewire->>Hook: hookFormEmail($value)
    Hook-->>Livewire: ê²€ì¦ ê²°ê³¼
    
    User->>Livewire: ì €ì¥ ë²„íŠ¼
    Livewire->>Hook: hookStoring($form)
    Hook->>Hook: ë°ì´í„° ê²€ì¦/ë³€í™˜
    
    alt ê²€ì¦ ì„±ê³µ
        Hook-->>Livewire: array (ì²˜ë¦¬ëœ ë°ì´í„°)
        Livewire->>Database: ë°ì´í„° ì €ì¥
        Database-->>Livewire: ì„±ê³µ
        Livewire->>Hook: hookStored($form)
        Hook->>Database: í›„ì²˜ë¦¬ ì‘ì—…
    else ê²€ì¦ ì‹¤íŒ¨
        Hook-->>Livewire: string (ì—ëŸ¬ ë©”ì‹œì§€)
        Livewire-->>User: ì—ëŸ¬ í‘œì‹œ
    end
```

## ğŸ” Hook ë°˜í™˜ê°’ íŒ¨í„´

### ì„±ê³µ/ì‹¤íŒ¨ êµ¬ë¶„ ê·œì¹™

```php
// ì„±ê³µ: ë°°ì—´ ë°˜í™˜
public function hookStoring($wire, $form)
{
    // ë°ì´í„° ì²˜ë¦¬...
    return $form; // array - ì„±ê³µ
}

// ì‹¤íŒ¨: ë¬¸ìì—´ ë°˜í™˜
public function hookStoring($wire, $form)
{
    if ($error) {
        return "ì—ëŸ¬ ë©”ì‹œì§€"; // string - ì‹¤íŒ¨
    }
}
```

### Livewire ì»´í¬ë„ŒíŠ¸ì˜ ì²˜ë¦¬

```php
// AdminCreate.php (Livewire Component)
public function save()
{
    // Hook í˜¸ì¶œ
    $result = $this->controller->hookStoring($this, $this->form);
    
    // ë°˜í™˜ê°’ íƒ€ì…ìœ¼ë¡œ ì„±ê³µ/ì‹¤íŒ¨ êµ¬ë¶„
    if (is_string($result)) {
        // ë¬¸ìì—´: ì—ëŸ¬ ì²˜ë¦¬
        $this->addError('general', $result);
        return;
    }
    
    // ë°°ì—´: ì •ìƒ ì§„í–‰
    $this->form = $result;
    DB::table($this->table)->insert($this->form);
}
```

## ğŸ’¡ ëª¨ë²” ì‚¬ë¡€

### 1. ì»¨íŠ¸ë¡¤ëŸ¬ ë¶„ë¦¬
```php
// âœ… ì¢‹ì€ ì˜ˆ: ê° ì•¡ì…˜ë³„ ì»¨íŠ¸ë¡¤ëŸ¬ ë¶„ë¦¬
AdminUsers.php        // ëª©ë¡
AdminUsersCreate.php  // ìƒì„±
AdminUsersEdit.php    // ìˆ˜ì •
AdminUsersDelete.php  // ì‚­ì œ

// âŒ ë‚˜ìœ ì˜ˆ: í•˜ë‚˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ì— ëª¨ë“  ì•¡ì…˜
AdminUsersController.php // index, create, edit, delete...
```

### 2. Hook ë©”ì†Œë“œ ëª…ëª… ê·œì¹™
```php
// âœ… ì¢‹ì€ ì˜ˆ: ëª…í™•í•œ ì‹œì  í‘œí˜„
hookIndexing()    // ~ing: ì‹¤í–‰ ì „
hookIndexed()     // ~ed: ì‹¤í–‰ í›„
hookFormEmail()   // Form{Field}: í¼ í•„ë“œ ì´ë²¤íŠ¸

// âŒ ë‚˜ìœ ì˜ˆ: ëª¨í˜¸í•œ ì´ë¦„
beforeIndex()
handleEmail()
processData()
```

### 3. JSON ì„¤ì • êµ¬ì¡°í™”
```json
{
    "template": {
        "index": "template.index",
        "create": "template.create"
    },
    "index": {
        "table": { /* í…Œì´ë¸” ì„¤ì • */ },
        "pagination": { /* í˜ì´ì§€ë„¤ì´ì…˜ ì„¤ì • */ },
        "search": { /* ê²€ìƒ‰ ì„¤ì • */ }
    },
    "create": {
        "defaults": { /* ê¸°ë³¸ê°’ */ },
        "validation": { /* ê²€ì¦ ê·œì¹™ */ }
    }
}
```

## ğŸ› ë””ë²„ê¹… íŒ

### Hook ì‹¤í–‰ ì¶”ì 
```php
public function hookIndexing($wire, $query)
{
    \Log::info('hookIndexing called', [
        'controller' => get_class($this),
        'user' => auth()->user()->email,
        'timestamp' => now()
    ]);
    
    return $query;
}
```

### JSON ì„¤ì • ê²€ì¦
```php
public function __construct()
{
    $this->jsonData = $this->loadJsonConfig();
    
    // í•„ìˆ˜ ì„¤ì • ì²´í¬
    if (!isset($this->jsonData['template']['index'])) {
        throw new \Exception('template.index ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.');
    }
}
```

## ğŸ“‚ ì»¨íŠ¸ë¡¤ëŸ¬ ê·¸ë£¹ë³„ ìƒì„¸ ë¶„ì„

### AdminDashboard - ëŒ€ì‹œë³´ë“œ
**ëª©ì **: ì‹œìŠ¤í…œ ì „ì²´ í˜„í™© ë° í†µê³„ë¥¼ í•œëˆˆì— íŒŒì•…

**ì£¼ìš” ê¸°ëŠ¥**:
- ì‚¬ìš©ì í†µê³„ (ì „ì²´, ê´€ë¦¬ì, í™œì„± ì„¸ì…˜)
- ë³´ì•ˆ í†µê³„ (2FA ì‚¬ìš©ë¥ , ì°¨ë‹¨ IP, ì‹¤íŒ¨ ë¡œê·¸ì¸)
- ì‹¤ì‹œê°„ í™œë™ ëª¨ë‹ˆí„°ë§
- ì‹œê°„ë³„ ë¡œê·¸ì¸ íŠ¸ë Œë“œ ì°¨íŠ¸
- ë¸Œë¼ìš°ì € ì‚¬ìš© í†µê³„

### AdminUsers - ì‚¬ìš©ì ê´€ë¦¬
**ëª©ì **: ì‹œìŠ¤í…œ ì‚¬ìš©ì ê³„ì • ì „ì²´ CRUD ê´€ë¦¬

**ì»´í¬ë„ŒíŠ¸ë³„ Hook ë©”ì†Œë“œ**:

#### AdminUsers (ëª©ë¡)
- `hookIndexing()`: ë°ì´í„° ì¡°íšŒ ì „ ì²˜ë¦¬
- `hookIndexed()`: admin_user_types ì¡°ì¸ìœ¼ë¡œ ì‚¬ìš©ì íƒ€ì…ëª… ì¶”ê°€

#### AdminUsersCreate (ìƒì„±)
- `hookCreating()`: í¼ ì´ˆê¸°í™”, user_types ì¡°íšŒ
- `hookFormEmail()`: ì´ë©”ì¼ ì‹¤ì‹œê°„ ê²€ì¦
- `hookFormPassword()`: íŒ¨ìŠ¤ì›Œë“œ ì‹¤ì‹œê°„ ê²€ì¦
- `hookStoring()`: ì €ì¥ ì „ ì²˜ë¦¬ (íŒ¨ìŠ¤ì›Œë“œ í•´ì‹±)
- `hookStored()`: ì €ì¥ í›„ ì²˜ë¦¬ (user_types ì¹´ìš´íŠ¸ ì¦ê°€)

#### AdminUsersEdit (ìˆ˜ì •)
- `hookEditing()`: í¼ ì´ˆê¸°í™”, íŒ¨ìŠ¤ì›Œë“œ í•„ë“œ ì œê±°
- `hookFormEmail()`: ì¤‘ë³µ ì²´í¬ (ìì‹  ì œì™¸)
- `hookUpdating()`: ì—…ë°ì´íŠ¸ ì „ ì²˜ë¦¬
- `hookUpdated()`: user_types ì¹´ìš´íŠ¸ ì¡°ì •

#### AdminUsersDelete (ì‚­ì œ)
- `hookDeleting()`: ì‚­ì œ ê°€ëŠ¥ ì—¬ë¶€ ì²´í¬ (ìê¸° ìì‹ , ì‹œìŠ¤í…œ ê´€ë¦¬ì ë³´í˜¸)
- `hookDeleted()`: user_types ì¹´ìš´íŠ¸ ê°ì†Œ

#### AdminUsersShow (ìƒì„¸)
**ì»¤ìŠ¤í…€ ì•¡ì…˜ Hook**:
```php
hookCustomPasswordResetForce()   // ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ê°•ì œ
hookCustomPasswordResetCancel()  // ê°•ì œ í•´ì œ
hookCustomPasswordExpiryExtend() // ë§Œë£Œ ê¸°ê°„ ì—°ì¥
hookCustomEmailVerify()          // ì´ë©”ì¼ ì¸ì¦
hookCustomAccountActivate()      // ê³„ì • í™œì„±í™”
hookCustomAccountDeactivate()    // ê³„ì • ë¹„í™œì„±í™”
```

### AdminPasswordLogs - ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸
**ëª©ì **: ë¹„ë°€ë²ˆí˜¸ ê´€ë ¨ ëª¨ë“  í™œë™ ì¶”ì  ë° ë³´ì•ˆ ê´€ë¦¬

**ì£¼ìš” ê¸°ëŠ¥**:
- ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì´ë ¥ ì¶”ì 
- ì‹¤íŒ¨í•œ ë¡œê·¸ì¸ ì‹œë„ ëª¨ë‹ˆí„°ë§
- IP ì°¨ë‹¨/í•´ì œ ê´€ë¦¬
- ë¸Œë£¨íŠ¸ í¬ìŠ¤ ê³µê²© ë°©ì§€

### AdminSessions - ì„¸ì…˜ ê´€ë¦¬
**ëª©ì **: ì‹¤ì‹œê°„ ì„¸ì…˜ ëª¨ë‹ˆí„°ë§ ë° ì œì–´

**ì£¼ìš” ê¸°ëŠ¥**:
- í™œì„± ì„¸ì…˜ ëª©ë¡ í‘œì‹œ
- ê°•ì œ ì„¸ì…˜ ì¢…ë£Œ
- ë™ì‹œ ì ‘ì† ê´€ë¦¬
- ë¡œê·¸ì¸ ìœ„ì¹˜ ì¶”ì 

### AdminUser2fa - 2FA ì¸ì¦
**ëª©ì **: Google Authenticator ê¸°ë°˜ 2ë‹¨ê³„ ì¸ì¦ ê´€ë¦¬

**ì£¼ìš” ê¸°ëŠ¥**:
- 2FA í™œì„±í™”/ë¹„í™œì„±í™”
- QR ì½”ë“œ ìƒì„±
- ë°±ì—… ì½”ë“œ ê´€ë¦¬
- 2FA ì‚¬ìš© í†µê³„

### AdminUserLogs - í™œë™ ë¡œê·¸
**ëª©ì **: ëª¨ë“  ì‚¬ìš©ì í™œë™ ê°ì‚¬ ë¡œê·¸

**ì£¼ìš” ê¸°ëŠ¥**:
- ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ê¸°ë¡
- ê´€ë¦¬ ì‘ì—… ì¶”ì 
- ë³´ì•ˆ ì´ë²¤íŠ¸ ë¡œê¹…
- í™œë™ íŒ¨í„´ ë¶„ì„

### AdminUserPassword - ë¹„ë°€ë²ˆí˜¸ ì •ì±…
**ëª©ì **: ë¹„ë°€ë²ˆí˜¸ ì •ì±… ì„¤ì • ë° ê´€ë¦¬

**ì£¼ìš” ê¸°ëŠ¥**:
- ë¹„ë°€ë²ˆí˜¸ ì •ì±… ì„¤ì •
- ë§Œë£Œ ê´€ë¦¬
- ê°•ì œ ë³€ê²½ ì„¤ì •
- ë³µì¡ë„ ê·œì¹™

### AdminUsertype - ì‚¬ìš©ì íƒ€ì…
**ëª©ì **: ì—­í•  ê¸°ë°˜ ê¶Œí•œ ì‹œìŠ¤í…œ ê´€ë¦¬

**ì£¼ìš” ê¸°ëŠ¥**:
- íƒ€ì…ë³„ ê¶Œí•œ ì„¤ì •
- ì‚¬ìš©ì ì¹´ìš´íŠ¸ ì¶”ì 
- ê³„ì¸µ êµ¬ì¡° ê´€ë¦¬
- ê¶Œí•œ ìƒì†

## ğŸ”’ ë³´ì•ˆ ë° ê°ì‚¬

### ê¶Œí•œ ì²´í¬
- ëª¨ë“  ì‘ì—…ì— ëŒ€í•œ ê¶Œí•œ ê²€ì¦
- ìê¸° ìì‹  ì‚­ì œ ë°©ì§€
- ì‹œìŠ¤í…œ ê´€ë¦¬ì ë³´í˜¸
- ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´

### ê°ì‚¬ ë¡œê¹…
- ëª¨ë“  ê´€ë¦¬ ì‘ì—… ê¸°ë¡
- IP ì£¼ì†Œ ë° User Agent ì €ì¥
- ë³€ê²½ ë‚´ì—­ ì¶”ì 
- ê´€ë¦¬ì ì •ë³´ ê¸°ë¡

### ë°ì´í„° ë³´í˜¸
- íŒ¨ìŠ¤ì›Œë“œ í•´ì‹± (bcrypt)
- íŠ¸ëœì­ì…˜ ì²˜ë¦¬
- SQL Injection ë°©ì§€
- XSS ë°©ì§€

## âš™ï¸ JSON ì„¤ì • êµ¬ì¡° ìƒì„¸

### ì „ì²´ êµ¬ì¡°
```json
{
  "controllerClass": "\\Namespace\\ClassName",  // Hook í™œì„±í™” í•„ìˆ˜!
  "model": "ModelName",
  "table": {
    "name": "table_name",
    "primaryKey": "id"
  },
  "template": {
    "layout": "admin.layout",
    "index": "view.path.index",
    "create": "view.path.create",
    "edit": "view.path.edit",
    "show": "view.path.show",
    "delete": "view.path.delete"
  },
  "route": {
    "name": "admin.module",
    "prefix": "admin/module"
  },
  "index": {
    "table": {
      "columns": {
        "field_name": {
          "label": "í‘œì‹œ ë¼ë²¨",
          "sortable": true,
          "searchable": true,
          "width": "100px"
        }
      }
    },
    "pagination": {
      "perPage": 20,
      "perPageOptions": [10, 20, 50, 100]
    },
    "sorting": {
      "default": "created_at",
      "direction": "desc"
    },
    "search": {
      "placeholder": "ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”",
      "fields": ["name", "email"]
    },
    "filters": {
      "status": {
        "label": "ìƒíƒœ",
        "options": {
          "active": "í™œì„±",
          "inactive": "ë¹„í™œì„±"
        }
      }
    }
  },
  "create": {
    "defaults": {
      "field_name": "default_value"
    },
    "validation": {
      "field_name": "required|string|max:255"
    }
  },
  "edit": {
    "readonly": ["email", "created_at"]
  }
}
```

## ğŸ† ëª¨ë²” ì‚¬ë¡€

### Hook êµ¬í˜„ì‹œ
1. **ë°˜í™˜ê°’ íƒ€ì… ëª…í™•íˆ êµ¬ë¶„**
   - ì„±ê³µ: ë°°ì—´ ë°˜í™˜
   - ì‹¤íŒ¨: ë¬¸ìì—´(ì—ëŸ¬ ë©”ì‹œì§€) ë°˜í™˜

2. **ì—ëŸ¬ ì²˜ë¦¬**
   ```php
   public function hookStoring($wire, $form)
   {
       if ($error) {
           $wire->addError('field', 'ì—ëŸ¬ ë©”ì‹œì§€');
           return "ì²˜ë¦¬ ì‹¤íŒ¨: êµ¬ì²´ì ì¸ ì´ìœ ";
       }
       return $form; // ì„±ê³µ
   }
   ```

3. **íŠ¸ëœì­ì…˜ ì‚¬ìš©**
   ```php
   DB::transaction(function() use ($form) {
       // ì—¬ëŸ¬ í…Œì´ë¸” ì—…ë°ì´íŠ¸
   });
   ```

### ì„±ëŠ¥ ìµœì í™”
1. **Eager Loading ì‚¬ìš©**
   ```php
   $users = User::with('userType', 'sessions')->get();
   ```

2. **ì¿¼ë¦¬ ìµœì í™”**
   - í•„ìš”í•œ ì»¬ëŸ¼ë§Œ ì„ íƒ
   - ì¸ë±ìŠ¤ í™œìš©
   - N+1 ë¬¸ì œ ë°©ì§€

3. **ìºì‹± í™œìš©**
   ```php
   Cache::remember('admin.stats', 300, function() {
       return $this->calculateStats();
   });
   ```

## ğŸ› ë””ë²„ê¹… ê°€ì´ë“œ

### Hook ì‹¤í–‰ ì¶”ì 
```php
\Log::info('Hook ì‹¤í–‰', [
    'method' => __METHOD__,
    'data' => $form,
    'user' => auth()->user()->email
]);
```

### ë°˜í™˜ê°’ ê²€ì¦
```php
$result = $this->controller->hookStoring($this, $form);

if (is_string($result)) {
    // ì—ëŸ¬ ì²˜ë¦¬
    $this->addError('general', $result);
} elseif (is_array($result)) {
    // ì„±ê³µ ì²˜ë¦¬
    $this->form = $result;
}
```

### JSON ì„¤ì • ê²€ì¦
```php
// ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±ìì—ì„œ
if (!isset($this->jsonData['template']['index'])) {
    throw new \Exception('í•„ìˆ˜ ì„¤ì • ëˆ„ë½: template.index');
}
```

## ğŸ“Š ì‹œìŠ¤í…œ ì¥ì 

1. **ì¼ê´€ì„±**: ëª¨ë“  CRUD ì‘ì—…ì— ë™ì¼í•œ íŒ¨í„´ ì ìš©
2. **ìœ ì—°ì„±**: Hook ì‹œìŠ¤í…œìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ìš©ì´
3. **ë³´ì•ˆì„±**: ì² ì €í•œ ê¶Œí•œ ì²´í¬ì™€ ê°ì‚¬ ë¡œê¹…
4. **ìœ ì§€ë³´ìˆ˜ì„±**: JSON ì„¤ì •ìœ¼ë¡œ ì½”ë“œ ìˆ˜ì • ìµœì†Œí™”
5. **í™•ì¥ì„±**: ìƒˆë¡œìš´ ëª¨ë“ˆ ì¶”ê°€ ìš©ì´
6. **ì¬ì‚¬ìš©ì„±**: Livewire ì»´í¬ë„ŒíŠ¸ ê³µìœ 
7. **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: ë‹¨ì¼ ì±…ì„ ì›ì¹™ ì¤€ìˆ˜

## ğŸ“š ì°¸ê³  ìë£Œ

- [Laravel Single Action Controllers](https://laravel.com/docs/controllers#single-action-controllers)
- [Livewire 3 Documentation](https://livewire.laravel.com)
- [@jiny/admin Package Documentation](https://github.com/jinyphp/admin)

---

*ì´ ë¬¸ì„œëŠ” @jiny/admin v1.0.0 ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.*